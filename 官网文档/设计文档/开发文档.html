<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>开发文档</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="目录" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="与 Lealone 相关的所有文档" />
<meta property="og:description" content="与 Lealone 相关的所有文档" />
<link rel="canonical" href="https://lealone.github.io/Lealone-Docs/%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3.html" />
<meta property="og:url" content="https://lealone.github.io/Lealone-Docs/%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3.html" />
<meta property="og:site_name" content="Lealone-Docs" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="目录" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"与 Lealone 相关的所有文档","headline":"目录","url":"https://lealone.github.io/Lealone-Docs/%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="../style.css?v=5ab46cda7f9d318b03cc735d3d5826e390e7c60f">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/Lealone-Docs/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      

      <h1 id="目录">目录</h1>

<ol>
  <li><a href="#1-lealone%E5%BC%80%E5%8F%91%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA">Lealone 开发测试环境搭建</a>
    <ul>
      <li>1.1. <a href="#11-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">开发环境</a></li>
      <li>1.2. <a href="#12-%E4%B8%8B%E8%BD%BD%E9%A1%B9%E7%9B%AE%E6%BA%90%E4%BB%A3%E7%A0%81">下载项目源代码</a></li>
      <li>1.3. <a href="#13-%E4%BB%A3%E7%A0%81%E5%AF%BC%E5%85%A5%E5%88%B0eclipse">代码导入到 Eclipse</a></li>
      <li>1.4. <a href="#14-%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC">设置代码风格</a></li>
      <li>1.5. <a href="#15-%E8%BF%90%E8%A1%8C%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B">运行测试用例</a></li>
    </ul>
  </li>
  <li>
    <p><a href="#2-lealone%E6%BA%90%E4%BB%A3%E7%A0%81%E7%9A%84%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84">Lealone 源代码的目录结构</a></p>
  </li>
  <li><a href="#3-lealone-各模块的依赖关系">Lealone 各模块的依赖关系</a></li>
</ol>

<h1 id="1-lealone开发测试环境搭建">1. Lealone 开发测试环境搭建</h1>

<h3 id="11-开发环境">1.1. 开发环境</h3>

<ul>
  <li>Eclipse 4.5+</li>
  <li>JDK 17+</li>
  <li>Maven 3.3+</li>
</ul>

<h3 id="12-下载项目源代码">1.2. 下载项目源代码</h3>

<p><code class="language-plaintext highlighter-rouge">git clone https://github.com/lealone/Lealone.git</code></p>

<h3 id="13-代码导入到eclipse">1.3. 代码导入到 Eclipse</h3>

<p>如果在 Eclipse 中安装了 maven 插件，比如 m2eclipse，直接在 Eclipse 中导入 Lealone 的 maven 工程即可；<br />
否则的话，可以用命令行的方式: <br />
<code class="language-plaintext highlighter-rouge">mvn eclipse:eclipse</code> <br />
此命令会根据 pom.xml 生成多个 Eclipse 工程项目，生成的文件放在与 pom.xml 平级的目录中，<br />
然后在 Eclipse 中选 File-&gt;Import-&gt;General-&gt;Existing Projects into Workspace，<br />
最后点 Browse 按钮找到刚才生成的那些 Eclipse 工程项目文件。<br /></p>

<h3 id="14-设置代码风格">1.4. 设置代码风格</h3>

<p>在 Eclipse中点 Window-&gt;Preferences-&gt;Java-&gt;Code Style-&gt;Formatter-&gt;Import, <br />
把 code.style.xml 文件导入进来，<br />
提交代码时需要格式化，缩进用4个空格，文本文件编码使用 UTF-8。</p>

<h3 id="15-运行测试用例">1.5. 运行测试用例</h3>

<p>Lealone 的测试用例可以通过两种模式运行：embedded 和 client_server <br />
client_server 模式需要先启动 lealone-test 子工程中的 com.lealone.test.LealoneStart 类<br />
运行 LealoneStart，提示下面这行信息时就表示启动成功了:<br />
<code class="language-plaintext highlighter-rouge">TcpServer started, host: 127.0.0.1, port: 9210</code></p>

<p>然后在 Eclipse 中右击 lealone-test 子工程名，点 Run As -&gt; JUnit Test 就可以跑所有测试用例了。<br />
embedded 模式不需要启动 TcpServer，可以直接运行测试用例。</p>

<h1 id="2-lealone源代码的目录结构">2. Lealone 源代码的目录结构</h1>

<ul>
  <li>
    <p>lealone-aose</p>

    <p>异步自适应优化存储引擎(Async adaptive Optimization Storage Engine)的代码</p>
  </li>
  <li>
    <p>lealone-aote</p>

    <p>异步自适应优化事务引擎(Async adaptive Optimization Transaction Engine)的代码</p>
  </li>
  <li>
    <p>lealone-client</p>

    <p>客户端代码，实现了 JDBC 4.0 规范的常用功能</p>
  </li>
  <li>
    <p>lealone-common</p>

    <p>公共代码，例如一些工具类和扩展 API</p>
  </li>
  <li>
    <p>lealone-db</p>

    <p>数据库层的代码，包括 Table、Index 这样的模式对象</p>
  </li>
  <li>
    <p>lealone-main</p>

    <p>用来启动 lealone</p>
  </li>
  <li>
    <p>lealone-net</p>

    <p>网络层的代码，实现 client 和 server 之间的传输协议</p>
  </li>
  <li>
    <p>lealone-sql</p>

    <p>SQL 引擎的代码</p>
  </li>
  <li>
    <p>lealone-server</p>

    <p>启动和管理 TCP server，接收 client 端发来的请求</p>
  </li>
  <li>
    <p>lealone-test</p>

    <p>所有测试用例的代码</p>
  </li>
</ul>

<h1 id="3-lealone-各模块的依赖关系">3. Lealone 各模块的依赖关系</h1>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>test
  |
  |--&gt; main
       |
       |--&gt; aose --------------------------------|
       |                                         |
       |--&gt; aote --------------------------------|
       |                                         ↓
       |--&gt; client --------&gt; net ---------&gt; common 
       |                      ↑                  ↑  
       |--&gt; server -----------|---&gt; sql --&gt; db --|
</code></pre></div></div>

  </body>
</html>
